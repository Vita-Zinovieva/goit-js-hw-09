{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAUC,SAASC,cAAc,SAIvB,SAAPC,EAAcC,EAAUC,GAC/B,IAAMC,EAAM,CAAEF,WAAUC,SAE4B,OAA7C,IAAIE,SAAQ,SAACC,EAASC,GAE3B,IAAMC,EAAgBC,KAAKC,SAAW,GACbC,YAAZ,WACLH,EACFF,EAAQF,GAG8CG,EAA/CH,E,GAETD,E,IAhBRL,EAAQc,iBAAiB,SAsBsD,SAA5DC,GACjBA,EAAEC,iBAKF,IAJgC,IAA5BC,EAASC,OAAOlB,EAAQiB,OAAOE,OAC/BC,EAAQF,OAAOlB,EAAQK,MAAMc,OAC7BE,EAAOH,OAAOlB,EAAQqB,KAAKF,OAEtBG,EAAI,EAAGA,GAAKL,EAAQK,GAAK,EAAG,CAEjCnB,EAAcmB,EADAF,EAAQC,EAAOC,GAE5BC,MAAK,SAAAC,G,IAAGpB,EAAQoB,EAARpB,SAAUC,EAAKmB,EAALnB,MACjBP,EAAA2B,OAAOC,QAAQ,uBAAwCC,OAAfvB,EAAS,QAAYuB,OAANtB,EAAM,M,IAG9DuB,OAAM,SAAAJ,G,IAAGpB,EAAQoB,EAARpB,SAAUC,EAAKmB,EAALnB,MAClBP,EAAA2B,OAAOI,QAAQ,sBAAqCF,OAAfvB,EAAS,QAAYuB,OAANtB,EAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst formRef = document.querySelector('.form');\nformRef.addEventListener('click', newCreate);\n \n//функція ззавдання\nfunction createPromise(position, delay) {   \n  const obj = { position, delay };                       //ствроюєм об'єкт який буде значенням промісів з властивостями (position,delay) \n                    \n  return new Promise((resolve, reject) => {            //обгортаємо функцію в проміс  \n    \n    const shouldResolve = Math.random() > 0.3;           //умова для створення об'єкта \n      setTimeout(() => {                                //записуємо метод setTimeout() щоб запуск функції відбувся після виконання промісу через delay секунд\n        if (shouldResolve) {\n          resolve(obj);                                  //якщо операція успішна(resolve)передаєм їй номер промісу (position), що створюється,\n                                                          // і затримку, враховуючи першу затримку (delay), введену користувачем, і крок (step).\n        } else {                                          //в разі помилки(reject) те ж саме (щоб resolve, delay повернулись в повідомленні)\n          reject(obj);\n        }\n      },delay );\n  })\n  \n};  \n\n//створюэмо функцію в якій виконується ітерація по amount, вираховується час затримки і викликається  createPromise.\nfunction newCreate(e) {\n  e.preventDefault();                                     //відміна дії браузера по замовчуванню\n  let amount = Number(formRef.amount.value);              //приводимо введенні дані до числа\n  let delay = Number(formRef.delay.value);\n  let step = Number(formRef.step.value);\n  \n  for (let i = 1; i <= amount; i += 1) {                  \n    let timeDelay = delay + step * i;\n      createPromise(i, timeDelay)\n      .then(({ position, delay }) => {\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`); \n        \n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        \n      }) \n    }\n}; "],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$formRef","document","querySelector","$ce04d3a99e08e73b$var$createPromise","position","delay","obj","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener","e","preventDefault","amount","Number","value","delay1","step","i","then","param","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.f4cffb6a.js.map"}